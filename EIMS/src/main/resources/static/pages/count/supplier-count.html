<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
</head>
<body>
    <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
    <div style="height: 700px" id="countEdit">
	    <div id="purchaseTime" style="height: 50%"></div>
	    <div id="purchaseNumber" style="height: 50%"></div>
    </div>
    
<script src="/js/vue.js"></script>
<script src="/js/jquery-min-1.11.3.js"></script>
<script src="/js/common.js"></script>
<!-- 引入 ECharts 文件 -->
<script src="/js/echarts.js"></script>
<script type="text/javascript">
//获取进货单信息和保存进货单信息
var countInfo = new Vue({
	el : '#countEdit',
	data : {
	},
	methods : {
		getPurchaseCount: function(id) {
			$.get('/supplier/count/'+id, function(res) {
				var count = jQuery.parseJSON(res);
				myPieChart("purchaseTime",count.statisticsTimeTitle,'',count.legend,"供应商",count.statisticsTime);
				myPieChart("purchaseNumber",count.statisticsNumberTitle,'',count.legend,"供应商",count.statisticsNumber);
			});
		},
	},
	created : function() {
		var supplierId=getQueryString("supplierId");
		if(supplierId != null){
			this.getPurchaseCount(supplierId);
		}
	},
})
</script>
</body>
</html>